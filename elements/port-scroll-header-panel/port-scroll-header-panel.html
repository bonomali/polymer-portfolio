<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<dom-module id="port-scroll-header-panel">

  <style>
    paper-scroll-header-panel {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: var(--paper-grey-200, #eee);
      /* background for toolbar when it is at its full size */
      --paper-scroll-header-panel-full-header: {
        background-image: url(../images/bg6.jpg);
      };
      /* background for toolbar when it is condensed */
      --paper-scroll-header-panel-condensed-header: {
        background-color: var(--paper-deep-orange-500, #ff5722);
      };
    }
    paper-toolbar {
      background-color: transparent;
    }
    paper-toolbar .title {
      font-size: 40px;
      margin-left: 60px;
    }
    paper-toolbar iron-icon {
      margin: 0 8px;
    }
    .content {
      padding: 8px;
    }
  </style>

<template>

  <paper-scroll-header-panel condenses>

    <paper-toolbar class="tall">

      <paper-icon-button icon="arrow-back"></paper-icon-button>
      <div class="flex"></div>
      <paper-icon-button icon="search"></paper-icon-button>
      <paper-icon-button icon="more-vert"></paper-icon-button>
      <div class="bottom title">Title</div>

    </paper-toolbar>

    <div class="content">

      <sample-content size="100"></sample-content>

    </div>

  </paper-scroll-header-panel>

  <script>
  (function() {
    Polymer({
      is: 'port-scroll-header-panel',
      titleStyle: document.querySelector('.title').style,
      properties: {
        greeting: {
          type: String,
          value: 'Welcome',
          notify: true
        }
      },
      listeners: {
        'paper-header-transform': 'onPaperHeaderTransform'
      },
      onPaperHeaderTransform: function(e) {
        var d = e.detail;
        var m = d.height - d.condensedHeight;
        var scale = Math.max(0.75, (m - d.y) / (m / 0.25)  + 0.75);
        titleStyle.transform = titleStyle.webkitTransform =
            'scale(' + scale + ') translateZ(0)';
      }
    });
    })();
    // custom transformation: scale header's title
    /*var titleStyle = document.querySelector('.title').style;
    addEventListener('paper-header-transform', function(e) {
      var d = e.detail;
      var m = d.height - d.condensedHeight;
      var scale = Math.max(0.75, (m - d.y) / (m / 0.25)  + 0.75);
      titleStyle.transform = titleStyle.webkitTransform =
          'scale(' + scale + ') translateZ(0)';
    });*/
  </script>

</template>
<dom-module/>